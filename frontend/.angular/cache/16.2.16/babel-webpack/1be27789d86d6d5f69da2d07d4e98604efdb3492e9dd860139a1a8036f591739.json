{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HeaderComponent = class HeaderComponent {\n  get isAuth() {\n    return this.user !== null && this.user.token !== undefined; // Check if user is not null and has a token\n  }\n\n  constructor(_cartService, _userService, _router) {\n    this._cartService = _cartService;\n    this._userService = _userService;\n    this._router = _router;\n    this.cartQuantity = 0;\n    this.userName = '';\n    this.user = null; // Allow user to be null\n    this._cartService.getCartObservable().subscribe(value => {\n      this.cartQuantity = value.totalCount;\n    });\n  }\n  ngOnInit() {\n    this.getUserName();\n  }\n  getUserName() {\n    this._userService.getUser.subscribe(user => {\n      this.user = user;\n      this.userName = user ? user.name : ''; // Use empty string if user is null\n    });\n  }\n\n  getOrderId() {\n    const orderId = JSON.parse('orderId');\n    this.orderId = orderId;\n  }\n  onLogout() {\n    this._userService.logout();\n    this._router.navigate(['/login']);\n    this.userName = '';\n    this.user = null;\n  }\n};\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})], HeaderComponent);","map":{"version":3,"names":["Component","HeaderComponent","isAuth","user","token","undefined","constructor","_cartService","_userService","_router","cartQuantity","userName","getCartObservable","subscribe","value","totalCount","ngOnInit","getUserName","getUser","name","getOrderId","orderId","JSON","parse","onLogout","logout","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/hazemalaa/Desktop/Food-Store-using-Angular-NodeJs-and-MongoDB/frontend/src/app/components/header/header.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CartService } from 'src/app/services/cart.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { Cart } from 'src/app/shared/models/Cart';\nimport { User } from 'src/app/shared/models/User';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n  cartQuantity: number = 0;\n  userName: string = '';\n  user: User | null = null; // Allow user to be null\n  orderId!: number;\n\n  get isAuth(): boolean { // Change the return type to boolean\n    return this.user !== null && this.user.token !== undefined; // Check if user is not null and has a token\n  }\n  \n  constructor(\n    private _cartService: CartService,\n    private _userService: UserService,\n    private _router: Router,\n  ) {\n    this._cartService.getCartObservable()\n      .subscribe((value: Cart) => {\n        this.cartQuantity = value.totalCount;\n      });\n  }\n\n  ngOnInit(): void {\n    this.getUserName();\n  }\n\n  getUserName(): void {\n    this._userService.getUser.subscribe((user: User | null) => {\n      this.user = user;\n      this.userName = user ? user.name : ''; // Use empty string if user is null\n    });\n  }\n\n  getOrderId(): void {\n    const orderId = JSON.parse('orderId');\n    this.orderId = orderId;\n  }\n\n  onLogout(): void {\n    this._userService.logout();\n    this._router.navigate(['/login']);\n    this.userName = ''; \n    this.user = null;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAM1B,IAAIC,MAAMA,CAAA;IACR,OAAO,IAAI,CAACC,IAAI,KAAK,IAAI,IAAI,IAAI,CAACA,IAAI,CAACC,KAAK,KAAKC,SAAS,CAAC,CAAC;EAC9D;;EAEAC,YACUC,YAAyB,EACzBC,YAAyB,EACzBC,OAAe;IAFf,KAAAF,YAAY,GAAZA,YAAY;IACZ,KAAAC,YAAY,GAAZA,YAAY;IACZ,KAAAC,OAAO,GAAPA,OAAO;IAZjB,KAAAC,YAAY,GAAW,CAAC;IACxB,KAAAC,QAAQ,GAAW,EAAE;IACrB,KAAAR,IAAI,GAAgB,IAAI,CAAC,CAAC;IAYxB,IAAI,CAACI,YAAY,CAACK,iBAAiB,EAAE,CAClCC,SAAS,CAAEC,KAAW,IAAI;MACzB,IAAI,CAACJ,YAAY,GAAGI,KAAK,CAACC,UAAU;IACtC,CAAC,CAAC;EACN;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAA,WAAWA,CAAA;IACT,IAAI,CAACT,YAAY,CAACU,OAAO,CAACL,SAAS,CAAEV,IAAiB,IAAI;MACxD,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChB,IAAI,CAACQ,QAAQ,GAAGR,IAAI,GAAGA,IAAI,CAACgB,IAAI,GAAG,EAAE,CAAC,CAAC;IACzC,CAAC,CAAC;EACJ;;EAEAC,UAAUA,CAAA;IACR,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAAC,SAAS,CAAC;IACrC,IAAI,CAACF,OAAO,GAAGA,OAAO;EACxB;EAEAG,QAAQA,CAAA;IACN,IAAI,CAAChB,YAAY,CAACiB,MAAM,EAAE;IAC1B,IAAI,CAAChB,OAAO,CAACiB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IACjC,IAAI,CAACf,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACR,IAAI,GAAG,IAAI;EAClB;CACD;AA3CYF,eAAe,GAAA0B,UAAA,EAL3B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,C,EACW7B,eAAe,CA2C3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}