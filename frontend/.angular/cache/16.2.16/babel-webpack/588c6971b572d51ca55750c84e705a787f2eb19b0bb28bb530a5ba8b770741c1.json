{"ast":null,"code":"import { Subject, takeUntil } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/food.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../components/search/search.component\";\nimport * as i5 from \"../../components/tags/tags.component\";\nimport * as i6 from \"../../components/notfound/notfound.component\";\nfunction HomeComponent_ng_container_4_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const origin_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", origin_r3, \" \");\n  }\n}\nfunction HomeComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\")(2, \"a\", 2)(3, \"div\", 3);\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_container_4_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.toggleFavorite(food_r1));\n    });\n    i0.ɵɵtext(9, \" \\u2764 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9);\n    i0.ɵɵtemplate(12, HomeComponent_ng_container_4_span_12_Template, 2, 1, \"span\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 10)(14, \"span\");\n    i0.ɵɵtext(15, \"\\uD83D\\uDD52\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 11)(18, \"span\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"currency\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const food_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/food/\", food_r1.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", food_r1.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", food_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", food_r1.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"favorite \", food_r1.favorite ? \"\" : \"not\", \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", food_r1.origins);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", food_r1.cookTime, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 10, food_r1.price), \" \");\n  }\n}\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(_foodService, _activatedRoute) {\n      this._foodService = _foodService;\n      this._activatedRoute = _activatedRoute;\n      this._destroy$ = new Subject();\n      this.foods = [];\n    }\n    ngOnInit() {\n      this._activatedRoute.params.subscribe(params => {\n        if (params.searchTerm) {\n          this.getAllFoodBySearchTerm(params.searchTerm);\n        } else if (params.tag) {\n          this.getAllFoodByTagName(params.tag);\n        } else {\n          this.getAllFoods();\n        }\n      });\n    }\n    /**\n     * @description method to get all foods\n     * @return {void} void\n     */\n    getAllFoods() {\n      this._foodService.getAll().pipe(takeUntil(this._destroy$)).subscribe({\n        next: res => {\n          if (!res?.length) return;\n          this.foods = res;\n        },\n        error: err => console.error(err)\n      });\n    }\n    /**\n     * @description method to get foods by search parameter\n     * @param {string} searchTerm\n     * @return {void} void\n     */\n    getAllFoodBySearchTerm(searchTerm) {\n      this._foodService.getAllFoodBySearch(searchTerm).pipe(takeUntil(this._destroy$)).subscribe({\n        next: res => {\n          if (!res?.length) return;\n          this.foods = res;\n        },\n        error: err => console.error(err)\n      });\n    }\n    /**\n     * @description method to get foods by tag name\n     * @param {string} tagName\n     * @return {void} void\n     */\n    getAllFoodByTagName(tagName) {\n      this._foodService.getAllFoodByTag(tagName).pipe(takeUntil(this._destroy$)).subscribe({\n        next: res => {\n          if (!res?.length) return;\n          this.foods = res;\n        },\n        error: err => console.error(err)\n      });\n    }\n    /**\n     * @description method to change the favorite property for the selected food\n     * @param food\n     * @return {void} void\n     */\n    toggleFavorite(food) {\n      food.favorite = !food.favorite;\n    }\n    ngOnDestroy() {\n      this._destroy$.next();\n      this._destroy$.complete();\n    }\n    static {\n      this.ɵfac = function HomeComponent_Factory(t) {\n        return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.FoodService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: HomeComponent,\n        selectors: [[\"app-home\"]],\n        decls: 5,\n        vars: 2,\n        consts: [[\"resetLinkText\", \"Reset Search\", 3, \"isVisible\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"], [1, \"img__container\"], [3, \"src\", \"alt\"], [1, \"content\"], [1, \"name\"], [3, \"click\"], [1, \"product-item-footer\"], [1, \"origins\"], [1, \"cook-time\"], [1, \"price\"]],\n        template: function HomeComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"app-search\")(1, \"app-tags\")(2, \"app-notfound\", 0);\n            i0.ɵɵelementStart(3, \"ul\");\n            i0.ɵɵtemplate(4, HomeComponent_ng_container_4_Template, 21, 12, \"ng-container\", 1);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"isVisible\", !ctx.foods || !ctx.foods.length);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.foods);\n          }\n        },\n        dependencies: [i3.NgForOf, i2.RouterLink, i4.SearchComponent, i5.TagsComponent, i6.NotfoundComponent, i3.CurrencyPipe],\n        styles: [\"ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;list-style-type:none;padding:0}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22.5rem;width:20rem;border:1px solid whitesmoke;border-radius:1rem;margin:.5rem;display:flex;flex-direction:column;overflow:hidden;color:#e72929}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.9;cursor:pointer}li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;height:14.5rem}.img__container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.content[_ngcontent-%COMP%]{margin-top:.3rem;padding:.5rem 1rem;position:relative;height:7rem}.favorite[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1rem;font-size:1.2rem;border:none;background-color:transparent;cursor:pointer;color:red}.favorite.not[_ngcontent-%COMP%]{color:gray;cursor:pointer}.product-item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.origins[_ngcontent-%COMP%]{flex:9}.origins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:2rem;background-color:#f5f5f5;display:inline-block;font-size:.8rem;color:gray;margin-right:.3rem;padding:0 .5rem;margin-top:.2rem}.cook-time[_ngcontent-%COMP%]{font-size:.9rem;flex:3;text-align:right;margin-top:1rem;color:var(--primary-text-color)}.name[_ngcontent-%COMP%]{color:var(--primary-text-color)}.price[_ngcontent-%COMP%]{position:absolute;bottom:0;left:.9rem;background-color:var(--primary-bg-color);padding:.3rem 100% 0 0;color:var(--primary-text-color);margin-top:.7rem;font-size:1.1rem}\"]\n      });\n    }\n  }\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}